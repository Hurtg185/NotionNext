/* styles/globals.css (现在更整洁了!) */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* [核心修改] 在这里导入所有自定义组件的样式 */
@import './custom-components.css';

html {
  overflow-x: hidden;
}

.wrapper {
  min-height: 100vh;
  display: flex;
  flex-wrap: nowrap;
  align-items: stretch;
  justify-content: flex-start;
  flex-direction: column;
}

/* ================================================================ */
/* 1. 核心布局与组件样式 (Core Layout & Components)
/* ================================================================ */

/* --- 顶部导航栏 --- */
.sticky-nav {
  position: sticky;
  z-index: 10;
  top: -1px;
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  transition: all 0.5s cubic-bezier(0.4, 0, 0, 1);
  border-bottom-color: transparent;
}
.sticky-nav-full { @apply border-b border-gray-200/50 dark:border-gray-700/50; }
.sticky-nav-full .nav { @apply text-gray-600 dark:text-gray-300; }
@supports not (backdrop-filter: none) {
  .sticky-nav {
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
    @apply bg-white/80 dark:bg-gray-800/80;
  }
}
body.modal-open { overflow: hidden; }
body.modal-open .bottom-nav { display: none !important; }

@layer components {
  .input-style { @apply mt-1 block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500; }
}

/* ================================================================ */
/* 2. 功能性与美化样式 (Utility & Aesthetic Styles)
/* ================================================================ */

@layer components {
  .glassmorphism { background: hsla(0, 0%, 100%, 0.05); -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px); }
  .forbid-copy { @apply select-none; }
  .writing-vertical { writing-mode: vertical-rl; text-orientation: upright; }
  .shadow-text { text-shadow: 0.1em 0.1em 0.2em black; }
  .text-shadow-lg { text-shadow: 0 4px 10px rgba(0, 0, 0, 0.4); }
  .shadow-card { box-shadow: rgba(0, 0, 0, 0.07) 0px 1px 2px, rgba(0, 0, 0, 0.07) 0px 2px 4px, rgba(0, 0, 0, 0.07) 0px 4px 8px, rgba(0, 0, 0, 0.07) 0px 8px 16px, rgba(0, 0, 0, 0.07) 0px 16px 32px, rgba(0, 0, 0, 0.07) 0px 32px 64px; }
  .lazy-image-placeholder { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: placeholder-loading 1.5s infinite linear; }
  html.dark .lazy-image-placeholder { background: linear-gradient(90deg, #1f2937 25%, #374151 50%, #1f2937 75%); background-size: 200% 100%; }
  @keyframes placeholder-loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
}

/* ================================================================ */
/* 3. 第三方库样式覆盖 (Third-party Library Overrides)
/* ================================================================ */

img { display: unset; }
.adsbygoogle { overflow: hidden; }

/* ================================================================ */
/* 4. 全局美化滚动条 (Global Scrollbar Styling)
/* ================================================================ */

::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.15); border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background: rgba(0, 0, 0, 0.3); }
html.dark ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.15); }
html.dark ::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.3); }
* { scrollbar-width: thin; scrollbar-color: rgba(0, 0, 0, 0.15) transparent; }
html.dark * { scrollbar-color: rgba(255, 255, 255, 0.15) transparent; }

/* ================================================================ */
/* 5. 头像呼吸光晕动画 (Avatar Glow Animation)
/* ================================================================ */

@keyframes avatar-glow-effect { 0% { transform: scale(0.95); opacity: 0.7; } 50% { transform: scale(1.15); opacity: 0; } 100% { transform: scale(1.15); opacity: 0; } }
.avatar-glow { position: relative; }
.avatar-glow::before { content: ''; position: absolute; inset: 0; border-radius: 9999px; background-color: rgba(59, 130, 246, 0.5); z-index: -1; pointer-events: none; animation: avatar-glow-effect 2.5s ease-out infinite; }

/* ================================================================ */
/* 6. 自定义网页元素屏蔽规则 (Custom Element Hiding Rules)
/* ================================================================ */

#post-bg, #article-end, .article-end-wrapper, #theme-heo > footer, #color-transition { display: none !important; }
body.hide-bottom-nav #bottom-nav { display: none !important; }
